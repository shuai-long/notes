window.$docsify=window.$docsify||{},window.$docsify.plugins=(window.$docsify.plugins||[]).concat(function(t,n){function e(){const t=document.createElement("button");return t.innerHTML="✎ 编辑样式",Object.assign(t.style,{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,padding:"8px 16px",background:"#42b983",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}),t.addEventListener("click",()=>i.classList.add("active")),document.body.appendChild(t),t}function o(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"}),e=document.createElement("style");e.textContent="\n      :host {\n        display: none;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0,0,0,0.5);\n        z-index: 10000;\n      }\n\n      :host(.active) {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n      .container {\n        position: relative;  /* 新增定位上下文 */\n        background: white;\n        padding: 30px 20px 20px; /* 调整顶部内边距 */\n        border-radius: 8px;\n        width: 60%;\n        max-width: 600px;\n      }\n      .close-btn {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        background: none;\n        border: none;\n        font-size: 1.2em;\n        cursor: pointer;\n        color: #666;\n      }\n      .close-btn:hover {\n        color: #333;\n      }\n      textarea {\n        width: 100%;\n        height: 300px;\n        margin: 10px 0;\n        font-family: monospace;\n      }\n      .button-group {\n        text-align: right;\n      }\n      button {\n        padding: 6px 12px;\n        margin-left: 8px;\n      }\n    ";const o=document.createElement("div");return o.className="container",o.innerHTML='\n      <button class="close-btn">×</button>\n      <h3>自定义CSS</h3>\n      <textarea placeholder="输入CSS样式..."></textarea>\n      <div class="button-group">\n        <button class="reset">重置</button>\n        <button class="save">保存</button>\n      </div>\n    ',n.appendChild(e),n.appendChild(o),document.body.appendChild(t),t}function s(){const t=localStorage.getItem("docsify-custom-css");if(t){const n=document.getElementById("docsify-custom-css");n&&n.remove();const e=document.createElement("style");e.id="docsify-custom-css",e.textContent=t,document.head.appendChild(e)}}let i,c;t.init(function(){e(),i=o(),c=i.shadowRoot.querySelector("textarea"),c.value=localStorage.getItem("docsify-custom-css")||"",c.addEventListener("keydown",function(t){if("Tab"===t.key||9===t.keyCode){t.preventDefault();const n=this.selectionStart,e=this.selectionEnd,o=this.value;if(t.shiftKey){const t=o.substring(0,n).split("\n"),s=o.substring(e).split("\n"),i=o.substring(n,e),c=i.replace(/^ /gm,"");this.value=[...t.slice(0,-1),t[t.length-1]+c+s[0],...s.slice(1)].join("\n");const a=i.length-c.length;this.selectionStart=Math.max(n-a,0),this.selectionEnd=e-a}else{const t=o.substring(0,n).split("\n"),s=o.substring(e).split("\n"),i=o.substring(n,e),c=i.replace(/^/gm,"  ");this.value=[...t.slice(0,-1),t[t.length-1]+c+s[0],...s.slice(1)].join("\n");c.split("\n").length;this.selectionStart=n+(n===e?2:0),this.selectionEnd=e+c.length-i.length}}}),i.shadowRoot.querySelector(".close-btn").addEventListener("click",()=>{i.classList.remove("active")}),i.shadowRoot.querySelector(".reset").addEventListener("click",()=>{if(confirm("确定要重置所有自定义样式吗？")){localStorage.removeItem("docsify-custom-css");const t=document.getElementById("docsify-custom-css");t&&t.remove(),c.value="",i.classList.remove("active")}}),i.shadowRoot.querySelector(".save").addEventListener("click",()=>{try{const t=c.value,n=document.createElement("style");n.textContent=t,document.head.appendChild(n),n.remove(),localStorage.setItem("docsify-custom-css",t),i.classList.remove("active"),s()}catch(t){alert("CSS语法错误,请检查后重试")}})}),t.mounted(function(){s()}),t.ready(function(){s()})});